<!-- Skills Section -->
<section id="skills" class="content-section">
  <div class="container">
    <h2 class="section-title">My Skills</h2>
    <div class="row">
      
      <!-- Left-side Skills Cards (keep them as is) -->
      <div class="col-md-7">
        <!-- Technical Skills -->
        <h4 class="mt-4"><i class="fas fa-laptop-code text-primary"></i> Technical Skills</h4>
        <div class="row text-center">
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-database"></i><h6>SQL</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-chart-bar"></i><h6>Power BI</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-file-excel"></i><h6>Excel</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-cogs"></i><h6>DBT</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fab fa-microsoft"></i><h6>Azure</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-snowflake"></i><h6>Snowflake</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-chart-pie"></i><h6>Data Viz</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-server"></i><h6>SSMS</h6></div></div></div>
        </div>

        <!-- Analytical Skills -->
        <h4 class="mt-5"><i class="fas fa-lightbulb text-success"></i> Analytical Skills</h4>
        <div class="row text-center">
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-search"></i><h6>Data Analysis</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-project-diagram"></i><h6>Data Modeling</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-chart-line"></i><h6>Financial Analysis</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-chart-area"></i><h6>Analytical Skills</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-business-time"></i><h6>Business Analysis</h6></div></div></div>
        </div>

        <!-- Professional Skills -->
        <h4 class="mt-5"><i class="fas fa-users text-warning"></i> Professional Skills</h4>
        <div class="row text-center">
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-comments"></i><h6>Communication</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-envelope"></i><h6>Email Etiquette</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-phone"></i><h6>Phone Etiquette</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-user"></i><h6>Body Posture</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-handshake"></i><h6>Meeting Mgmt</h6></div></div></div>
          <div class="col-6 col-md-4"><div class="card h-100 shadow-sm"><div class="card-body"><i class="fas fa-bullseye"></i><h6>Intent Ownership</h6></div></div></div>
        </div>
      </div>

      <!-- Donut Chart -->
      <div class="col-md-5 text-center">
        <canvas id="skillsChart" style="max-height:400px;"></canvas>
        <div class="mt-3">
          <button class="btn btn-outline-primary btn-sm m-1" onclick="updateChart('technical')">Technical</button>
          <button class="btn btn-outline-success btn-sm m-1" onclick="updateChart('analytical')">Analytical</button>
          <button class="btn btn-outline-warning btn-sm m-1" onclick="updateChart('professional')">Professional</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

<script>
const ctx = document.getElementById('skillsChart');

const skillData = {
  technical: {
    labels: ["SQL","Power BI","Excel","DBT","Azure","Snowflake","Data Viz","SSMS"],
    data: [20,20,15,15,10,10,5,5],
    colors: ["#007bff","#28a745","#ffc107","#6f42c1","#17a2b8","#fd7e14","#20c997","#e83e8c"]
  },
  analytical: {
    labels: ["Data Analysis","Analytical Skills","Financial Analysis","Data Modeling","Business Analysis"],
    data: [30,25,20,15,10],
    colors: ["#28a745","#20c997","#ffc107","#6f42c1","#007bff"]
  },
  professional: {
    labels: ["Communication","Email Etiquette","Phone Etiquette","Body Posture","Meeting Mgmt","Intent Ownership"],
    data: [25,20,15,15,15,10],
    colors: ["#ffc107","#007bff","#17a2b8","#20c997","#6f42c1","#e83e8c"]
  }
};

let skillsChart = new Chart(ctx, {
  type: 'doughnut',
  data: { labels: [], datasets: [{ data: [], backgroundColor: [] }] },
  options: {
    responsive: true,
    plugins: {
      legend: { position: 'bottom' },
      datalabels: {
        color: 'white',
        formatter: (value, context) => {
          // Show label + value inside slice, with "error" style
          return context.chart.data.labels[context.dataIndex] + ' ' + value + '%';
        },
        font: { weight: 'bold', size: 12 }
      },
      tooltip: {
        callbacks: {
          label: function(context) {
            return context.label + ': ' + context.parsed + '%';
          }
        }
      }
    }
  },
  plugins: [ChartDataLabels]
});

function updateChart(category) {
  const data = skillData[category];
  skillsChart.data.labels = data.labels;
  skillsChart.data.datasets[0].data = data.data;
  skillsChart.data.datasets[0].backgroundColor = data.colors;
  skillsChart.update();
}

// Load Technical by default
updateChart('technical');
</script>
